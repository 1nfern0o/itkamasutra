(this.webpackJsonpitkamasutra=this.webpackJsonpitkamasutra||[]).push([[5],{385:function(e,t,c){"use strict";c.r(t);var n=c(70),s=c(147),r=c(123),a=c(0),j=c(1),i=new WebSocket("wss://social-network.samuraijs.com/handlers/ChatHandler.ashx"),u=function(e){var t=e.message;return Object(j.jsxs)("div",{children:[Object(j.jsx)("img",{src:t.photo,alt:"avatar",style:{width:"30px"}}),Object(j.jsx)("b",{children:t.userName}),Object(j.jsx)("br",{}),Object(j.jsx)("p",{children:t.message}),Object(j.jsx)("hr",{})]})},b=function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),c=t[0],r=t[1];return Object(a.useEffect)((function(){i.addEventListener("message",(function(e){var t=JSON.parse(e.data);r((function(e){return[].concat(Object(n.a)(e),Object(n.a)(t))}))}))}),[]),Object(j.jsx)("div",{style:{height:"400px",overflowY:"auto"},children:c.map((function(e,t){return Object(j.jsx)(u,{message:e},t)}))})},d=function(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),c=t[0],n=t[1];return Object(j.jsxs)("div",{children:["AddMessageForm",Object(j.jsx)("div",{children:Object(j.jsx)("textarea",{onChange:function(e){return n(e.currentTarget.value)},value:c})}),Object(j.jsx)("div",{children:Object(j.jsx)(r.a,{onClick:function(){c&&(i.send(c),n(""))},children:"Send"})})]})},o=function(){return Object(j.jsxs)("div",{children:[Object(j.jsx)(b,{}),Object(j.jsx)(d,{})]})};t.default=function(){return Object(j.jsx)("div",{children:Object(j.jsx)(o,{})})}}}]);
//# sourceMappingURL=5.7d4703a2.chunk.js.map