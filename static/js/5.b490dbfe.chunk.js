(this.webpackJsonpitkamasutra=this.webpackJsonpitkamasutra||[]).push([[5],{388:function(e,t,c){"use strict";c.r(t);var r=c(148),n=c(123),s=c(0),j=c(15),i=c(187),a=c(1),u=Object(s.memo)((function(e){var t=e.message;return Object(a.jsxs)("div",{children:[Object(a.jsx)("img",{src:t.photo,alt:"avatar",style:{width:"30px"}}),Object(a.jsx)("b",{children:t.userName}),Object(a.jsx)("br",{}),Object(a.jsx)("p",{children:t.message}),Object(a.jsx)("hr",{})]})})),b=function(){var e=Object(j.d)((function(e){return e.chat.messages})),t=Object(s.useRef)(null),c=Object(s.useState)(!0),n=Object(r.a)(c,2),i=n[0],b=n[1];return Object(s.useEffect)((function(){var e;i&&(null===(e=t.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))}),[e]),Object(a.jsxs)("div",{style:{height:"400px",overflowY:"auto"},onScroll:function(e){var t=e.currentTarget;Math.abs(t.scrollHeight-t.scrollTop-t.clientHeight)<300?!i&&b(!0):i&&b(!1)},children:[e.map((function(e){return Object(a.jsx)(u,{message:e},e.id)})),Object(a.jsx)("div",{ref:t})]})},o=function(){var e=Object(s.useState)(""),t=Object(r.a)(e,2),c=t[0],u=t[1],b=Object(j.c)(),o=Object(j.d)((function(e){return e.chat.status}));return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{children:Object(a.jsx)("textarea",{onChange:function(e){return u(e.currentTarget.value)},value:c})}),Object(a.jsx)("div",{children:Object(a.jsx)(n.a,{disabled:"ready"!==o,onClick:function(){c&&(b(Object(i.b)(c)),u(""))},children:"Send"})})]})},O=function(){var e=Object(j.c)(),t=Object(j.d)((function(e){return e.chat.status}));return Object(s.useEffect)((function(){return e(Object(i.c)()),function(){e(Object(i.d)())}}),[]),Object(a.jsxs)("div",{children:["error"===t&&Object(a.jsx)("div",{children:"Some Error. Please refresh page"}),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(b,{}),Object(a.jsx)(o,{})]})]})};t.default=function(){return Object(a.jsx)("div",{children:Object(a.jsx)(O,{})})}}}]);
//# sourceMappingURL=5.b490dbfe.chunk.js.map