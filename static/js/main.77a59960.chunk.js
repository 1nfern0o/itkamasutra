(this.webpackJsonpitkamasutra=this.webpackJsonpitkamasutra||[]).push([[0],{120:function(e,t,n){},158:function(e,t,n){},159:function(e,t,n){},184:function(e,t,n){},185:function(e,t,n){},186:function(e,t,n){},187:function(e,t,n){},285:function(e,t,n){},286:function(e,t,n){},287:function(e,t,n){},288:function(e,t,n){},289:function(e,t,n){},290:function(e,t,n){},291:function(e,t,n){"use strict";n.r(t);var s=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,292)).then((function(t){var n=t.getCLS,s=t.getFID,r=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),s(e),r(e),c(e),a(e)}))},r=n(59),c=n.n(r),a=n(1),i=n.n(a),o=n(24),u=n(25),l=n(27),j=n(26),d=n(11),b=n(13),p=(n(158),n(159),n(0)),f=function(){return Object(p.jsx)("nav",{className:"menu",children:Object(p.jsxs)("ul",{className:"menu__list",children:[Object(p.jsx)("li",{className:"menu__item",children:Object(p.jsx)(b.b,{to:"/home",className:"menu__item-link",children:"Home"})}),Object(p.jsx)("li",{children:Object(p.jsx)(b.b,{to:"/profile",className:"menu__item-link",children:"Profile"})}),Object(p.jsx)("li",{children:Object(p.jsx)(b.b,{to:"/dialogs",className:"menu__item-link",children:"Messages"})}),Object(p.jsx)("li",{children:Object(p.jsx)(b.b,{to:"/users",className:"menu__item-link",children:"Users"})})]})})},h=n(12),O=n(10),g=n.n(O),m=n(18),x=n(28),v=n(3),w=n(125).create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"c4158ed8-d0fa-48f5-978e-b07ad1bf0132"}}),P={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return w.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},follow:function(e){return w.post("follow/".concat(e))},unfollow:function(e){return w.delete("follow/".concat(e))},getProfile:function(e){return console.warn("Obsolete method. Please profileAPI object."),_.getProfile(e)}},_={getProfile:function(e){return w.get("profile/".concat(e))},getStatus:function(e){return w.get("profile/status/".concat(e))},updateStatus:function(e){return w.put("profile/status/",{status:e})}},S=function(){return w.get("auth/me")},y=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return w.post("auth/login",{email:e,password:t,rememberMe:n})},k=function(){return w.delete("auth/login")},N=function(e,t,n,s){return e.map((function(e){return e[n]===t.userId?Object(v.a)(Object(v.a)({},e),s):e}))},C="FOLLOW",I="UNFOLLOW",T="SET_USERS",E="SET_CURRENT_PAGE",U="SET_TOTAL_USERS_COUNT",A="SET_TOTAL_USERS_COUNT",D="TOGGLE_IS_FOLLOWING_PROGRESS",F={users:[],pageSize:5,totalUsersCount:0,currentPage:1,isFetching:!0,followingInProgress:[4,5]},z=function(e){return{type:C,userId:e}},L=function(e){return{type:I,userId:e}},M=function(e){return{type:E,currentPage:e}},R=function(e){return{type:A,isFetching:e}},G=function(e,t){return{type:D,isFetching:e,userId:t}},H=function(){var e=Object(m.a)(g.a.mark((function e(t,n,s,r){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(G(!0,n)),e.next=3,s(n);case 3:0===e.sent.data.resultCode&&t(r(n)),t(G(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,s,r){return e.apply(this,arguments)}}(),B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(v.a)(Object(v.a)({},e),{},{users:N(e.users,t.userId,"id",{follow:!0})});case I:return Object(v.a)(Object(v.a)({},e),{},{users:N(e.users,t.userId,"id",{follow:!1})});case T:return Object(v.a)(Object(v.a)({},e),{},{users:Object(x.a)(t.users)});case E:return Object(v.a)(Object(v.a)({},e),{},{currentPage:t.currentPage});case U:return Object(v.a)(Object(v.a)({},e),{},{totalUsersCount:t.count});case A:return Object(v.a)(Object(v.a)({},e),{},{isFetching:t.isFetching});case D:return Object(v.a)(Object(v.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(x.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},q=(n(98),n(184),function(e){for(var t=e.currentPage,n=e.onPageChanged,s=e.totalUsersCount,r=e.pageSize,c=Math.ceil(s/r),a=[],i=1;i<c;i++)a.push(i);return Object(p.jsx)("div",{children:a.map((function(e){return Object(p.jsx)("span",{className:"user__page-number ".concat(t===e&&"user__page-select"),onClick:function(){n(e)},children:e})}))})}),J=function(e){var t=e.user,n=e.followingInProgress,s=e.unfollow,r=e.follow;return Object(p.jsxs)("div",{className:"user",children:[Object(p.jsxs)("span",{children:[Object(p.jsx)("div",{children:Object(p.jsx)(b.b,{to:"/profile/"+t.id,children:Object(p.jsx)("img",{className:"user__avatar",src:"".concat(null!=t.photos.small?t.photos.small:"https://images.pexels.com/photos/1312023/pexels-photo-1312023.jpeg?cs=srgb&dl=pexels-michael-morse-1312023.jpg&fm=jpg"),alt:""})})}),Object(p.jsx)("div",{children:t.followed?Object(p.jsx)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){s(t.id)},children:"UnFollow"}):Object(p.jsx)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){r(t.id)},children:"Follow"})})]}),Object(p.jsxs)("span",{children:[Object(p.jsxs)("span",{children:[Object(p.jsx)("div",{children:t.fullName}),Object(p.jsx)("div",{children:t.status})]}),Object(p.jsxs)("span",{children:[Object(p.jsx)("div",{children:t.id}),Object(p.jsx)("div",{children:"user.location.country"}),Object(p.jsx)("div",{children:"user.location.city"})]})]})]})},W=function(e){var t=e.currentPage,n=e.onPageChanged,s=e.totalUsersCount,r=e.pageSize,c=e.users,a=e.followingInProgress,i=e.unfollow,o=e.follow;return Object(p.jsxs)("div",{children:[Object(p.jsx)(q,{currentPage:t,onPageChanged:n,totalUsersCount:s,pageSize:r}),Object(p.jsx)("div",{children:c.map((function(e){return Object(p.jsx)(J,{user:e,followingInProgress:a,follow:o,unfollow:i},e.id)}))})]})},X=n.p+"static/media/preloader.3ad5b43f.svg",Y=function(e){return Object(p.jsx)("div",{children:Object(p.jsx)("img",{src:X,alt:"Preloader"})})},K=n(7),V=n(126),Z=Object(V.a)((function(e){return e.usersPage.users.filter((function(e){return!0}))}),(function(e){return e.filter((function(e){return!0}))})),Q=function(e){return e.usersPage.pageSize},$=function(e){return e.usersPage.totalUsersCount},ee=function(e){return e.usersPage.currentPage},te=function(e){return e.usersPage.isFetching},ne=function(e){return e.usersPage.followingInProgress},se=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,r=new Array(s),c=0;c<s;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).onPageChanged=function(t){var n=e.props.pageSize;e.props.requestUsers(t,n)},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.currentPage,n=e.pageSize;this.props.requestUsers(t,n)}},{key:"render",value:function(){return Object(p.jsxs)(p.Fragment,{children:[this.props.isFetching?Object(p.jsx)(Y,{}):null,Object(p.jsx)(W,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow,followingInProgress:this.props.followingInProgress})]})}}]),n}(a.Component),re=Object(K.d)(Object(h.b)((function(e){return{users:Z(e),pageSize:Q(e),totalUsersCount:$(e),currentPage:ee(e),isFetching:te(e),followingInProgress:ne(e)}}),{follow:function(e){return function(){var t=Object(m.a)(g.a.mark((function t(n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:H(n,e,P.follow.bind(P),z);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollow:function(e){return function(){var t=Object(m.a)(g.a.mark((function t(n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:H(n,e,P.unfollow.bind(P),L);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setCurrentPage:M,toggleFollowingProgress:G,requestUsers:function(e,t){return function(){var n=Object(m.a)(g.a.mark((function n(s){var r;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s(R(!0)),s(M(e)),n.next=4,P.getUsers(e,t);case 4:r=n.sent,s(R(!1)),s((a=r.items,{type:T,users:a})),s((c=r.totalCount,{type:U,count:c}));case 8:case"end":return n.stop()}var c,a}),n)})));return function(e){return n.apply(this,arguments)}}()}}))(se),ce=(n(99),"SEND_MESSAGE"),ae={dialogsData:[{id:1,name:"Roman"},{id:2,name:"Dimych"},{id:3,name:"Petro"},{id:4,name:"Andrey"}],messagesData:[{id:1,message:"Hi world!"},{id:2,message:"Hi wrld!"},{id:3,message:"Yo"}]},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce:var n=t.newMessageBody;return Object(v.a)(Object(v.a)({},e),{},{messagesData:[].concat(Object(x.a)(e.messagesData),[{id:6,message:n}])});default:return e}},oe=(n(185),function(e){return Object(p.jsx)("div",{className:"dialogs__item",children:Object(p.jsxs)(b.b,{to:"dialogs/".concat(e.id),children:[e.name," "]})})}),ue=(n(186),function(e){return Object(p.jsx)("div",{className:"messages__item",children:Object(p.jsx)("span",{children:e.message})})}),le=n(121),je=n(122),de=n(88),be=(n(187),function(e){var t=e.meta,n=t.touched,s=t.error,r=e.children,c=n&&s;return Object(p.jsxs)("div",{className:"form-control ".concat(c?"error":""),children:[Object(p.jsx)("div",{children:r}),Object(p.jsx)("div",{children:c&&Object(p.jsx)("span",{children:s})})]})}),pe=function(e){var t=e.input,n=(e.meta,e.child,Object(de.a)(e,["input","meta","child"]));return Object(p.jsx)(be,Object(v.a)(Object(v.a)({},e),{},{children:Object(p.jsx)("textarea",Object(v.a)(Object(v.a)({},t),n))}))},fe=function(e){var t=e.input,n=(e.meta,e.child,Object(de.a)(e,["input","meta","child"]));return Object(p.jsx)(be,Object(v.a)(Object(v.a)({},e),{},{children:Object(p.jsx)("input",Object(v.a)(Object(v.a)({},t),n))}))},he=function(e,t,n,s){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return Object(p.jsxs)("div",{children:[Object(p.jsx)(le.a,Object(v.a)({placeholder:e,name:t,validate:n,component:s},r)),c]})},Oe=function(e){if(!e)return"Field is required"},ge=function(e){return function(t){if(t&&t.length>e)return"Max length is ".concat(e," symbols")}},me=ge(50),xe=Object(je.a)({form:"dialogAddMessageForm"})((function(e){return Object(p.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(p.jsx)("div",{children:Object(p.jsx)(le.a,{component:pe,validate:[Oe,me],name:"newPostText",placeholder:"Enter your message"})}),Object(p.jsx)("div",{children:Object(p.jsx)("button",{children:"Send"})})]})})),ve=function(e){var t=e.dialogsPage,n=t.dialogsData.map((function(e){return Object(p.jsx)(oe,{name:e.name,id:e.id},e.id)})),s=t.messagesData.map((function(e){return Object(p.jsx)(ue,{message:e.message},e.id)}));return e.isAuth?Object(p.jsxs)("div",{className:"dialogs",children:[Object(p.jsx)("div",{className:"dialogs__items",children:n}),Object(p.jsxs)("div",{className:"messages",children:[Object(p.jsx)("div",{children:s}),Object(p.jsx)(xe,{onSubmit:function(t){e.sendMessage(t.newPostText)}})]})]}):Object(p.jsx)(d.a,{to:"/login"})},we=function(e){return{isAuth:e.auth.isAuth}},Pe=function(e){var t=function(t){Object(l.a)(s,t);var n=Object(j.a)(s);function s(){return Object(o.a)(this,s),n.apply(this,arguments)}return Object(u.a)(s,[{key:"render",value:function(){return this.props.isAuth?Object(p.jsx)(e,Object(v.a)({},this.props)):Object(p.jsx)(d.a,{to:"/login"})}}]),s}(a.Component);return Object(h.b)(we)(t)},_e=Object(K.d)(Object(h.b)((function(e){return{dialogsPage:e.dialogsPage}}),(function(e){return{sendMessage:function(t){e(function(e){return{type:ce,newMessageBody:e}}(t))}}})),Pe)(ve),Se=(n(120),n(285),n(87)),ye=(n(286),function(e){var t=Object(a.useState)(!1),n=Object(Se.a)(t,2),s=n[0],r=n[1],c=Object(a.useState)(e.status),i=Object(Se.a)(c,2),o=i[0],u=i[1];return Object(a.useEffect)((function(){u(e.status)}),[e.status]),Object(p.jsxs)("div",{className:"profile-status",children:[!s&&Object(p.jsx)("div",{children:Object(p.jsx)("span",{onDoubleClick:function(){r(!0)},children:e.status||"No status"})}),s&&Object(p.jsx)("div",{children:Object(p.jsx)("input",{onChange:function(e){u(e.currentTarget.value)},autoFocus:!0,onBlur:function(){r(!1),e.updateStatus(o)},type:"text",value:o})})]})}),ke=function(e){var t=e.profile,n=e.status,s=e.updateStatus;return t?Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{children:Object(p.jsx)("img",{className:"content__img",src:"https://images.pexels.com/photos/2478248/pexels-photo-2478248.jpeg?auto=compress&cs=tinysrgb&h=750&w=1260",alt:""})}),Object(p.jsxs)("div",{className:"description-block",children:[Object(p.jsx)("img",{src:t.photos.large,alt:""}),Object(p.jsx)("div",{className:"description-block__contact",children:Object(p.jsxs)("ul",{children:[Object(p.jsx)("li",{children:t.contacts.facebook}),Object(p.jsx)("li",{children:t.contacts.website}),Object(p.jsx)("li",{children:t.contacts.vk}),Object(p.jsx)("li",{children:t.contacts.twitter}),Object(p.jsx)("li",{children:t.contacts.instagram}),Object(p.jsx)("li",{children:t.contacts.youtube}),Object(p.jsx)("li",{children:t.contacts.github})]})}),Object(p.jsx)(ye,{status:n,updateStatus:s})]})]}):Object(p.jsx)(Y,{})},Ne="ADD_POST",Ce="SET_USER_PROFILE",Ie="SET_STATUS",Te="DELETE_POST",Ee={postsData:[{id:1,message:"Hi, who are u?",likes:12},{id:2,message:"Hi, who are u Doe?",likes:1},{id:3,message:"Hi, who are John?",likes:129}],profile:null,status:""},Ue=function(e){return{type:Ie,status:e}},Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ne:var n={id:5,message:t.newPostText,likes:0};return Object(v.a)(Object(v.a)({},e),{},{postsData:[].concat(Object(x.a)(e.postsData),[n]),newPostText:""});case Ce:return Object(v.a)(Object(v.a)({},e),{},{profile:t.profile});case Ie:return Object(v.a)(Object(v.a)({},e),{},{status:t.status});case Te:return Object(v.a)(Object(v.a)({},e),{},{postsData:e.postsData.filter((function(e){return e.id!==t.postId}))});default:return e}},De=(n(287),n(288),function(e){return Object(p.jsxs)("div",{className:"post__item",children:[Object(p.jsx)("img",{className:"post__item_img",src:"https://www.serietotaal.nl/images/nieuws/t/6fbi52rzy3ly-full.jpg",alt:""}),Object(p.jsx)("span",{children:e.message}),Object(p.jsxs)("div",{children:[Object(p.jsx)("span",{children:"like"}),Object(p.jsx)("span",{children:e.likes})]})]})}),Fe=ge(10),ze=Object(je.a)({form:"profileAddNewPostForm"})((function(e){return Object(p.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(p.jsx)("div",{children:Object(p.jsx)(le.a,{component:pe,name:"newPostText",placeholder:"Post message...",validate:[Oe,Fe]})}),Object(p.jsx)("div",{children:Object(p.jsx)("button",{children:"Add post"})})]})})),Le=Object(a.memo)((function(e){var t=Object(x.a)(e.postsData).reverse().map((function(e){return Object(p.jsx)(De,{message:e.message,likes:e.likes},e.id)}));return Object(p.jsxs)("div",{className:"post",children:[Object(p.jsx)("h3",{children:"my post"}),Object(p.jsx)(ze,{onSubmit:function(t){e.addPosts(t.newPostText)}}),Object(p.jsx)("div",{className:"posts",children:t})]})})),Me=Object(h.b)((function(e){return{postsData:e.profilePage.postsData,newPostText:e.profilePage.newPostText}}),(function(e){return{addPosts:function(t){e(function(e){return{type:Ne,newPostText:e}}(t))}}}))(Le),Re=function(e){return Object(p.jsxs)("div",{className:"content",children:[Object(p.jsx)(ke,{profile:e.profile,status:e.status,updateStatus:e.updateStatus}),Object(p.jsx)(Me,{})]})},Ge=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"render",value:function(){return Object(p.jsx)(Re,Object(v.a)(Object(v.a)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))}}]),n}(a.Component),He=Object(K.d)(Object(h.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:function(e){return function(){var t=Object(m.a)(g.a.mark((function t(n){var s;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.getProfile(e);case 2:s=t.sent,n((r=s.data,{type:Ce,profile:r}));case 4:case"end":return t.stop()}var r}),t)})));return function(e){return t.apply(this,arguments)}}()},getStatus:function(e){return function(){var t=Object(m.a)(g.a.mark((function t(n){var s;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.getStatus(e);case 2:s=t.sent,n(Ue(s.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(m.a)(g.a.mark((function t(n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.getProfile(e);case 2:0===t.sent.data.resutCode&&n(Ue(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),d.g,Pe)(Ge),Be=(n(289),function(e){return Object(p.jsxs)("header",{className:"header",children:[Object(p.jsx)("img",{className:"logo",src:"https://image.neoseo.com.ua/image/catalog/foto_statti/topsovetovposozdanijubesplatnogologotipadljasajta/logo-design.png",alt:"Logo header"}),Object(p.jsx)("div",{className:"login-block",children:e.isAuth?Object(p.jsxs)("div",{children:[e.login," - ",Object(p.jsx)("button",{onClick:e.logout,children:"Log out"})]}):Object(p.jsx)(b.b,{className:"login-block__link",to:"/login",children:"Login"})})]})}),qe=n(35),Je="samurai-network/auth/SET_USER_DATA",We={userId:null,email:null,login:null,isAuth:!1},Xe=function(e,t,n,s){return{type:Je,payload:{userId:e,email:t,login:n,isAuth:s}}},Ye=function(){return function(){var e=Object(m.a)(g.a.mark((function e(t){var n,s,r,c,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:0===(n=e.sent).data.resultCode&&(s=n.data.data,r=s.id,c=s.email,a=s.login,t(Xe(r,c,a,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Je:return Object(v.a)(Object(v.a)({},e),t.payload);default:return e}},Ve=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(p.jsx)(Be,Object(v.a)({},this.props))}}]),n}(a.Component),Ze=Object(h.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:function(){return function(){var e=Object(m.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:0===e.sent.data.resultCode&&t(Xe(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(Ve),Qe=(n(290),Object(je.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error;return Object(p.jsxs)("form",{onSubmit:t,children:[he("Email","email",[Oe],fe),he("Password","password",[Oe],fe,{type:"password"}),he(null,"rememberMe",[],fe,{type:"checkbox"},"remember me"),n&&Object(p.jsx)("div",{className:"form-summary-error",children:n}),Object(p.jsx)("div",{children:Object(p.jsx)("button",{children:"Login"})})]})}))),$e=Object(h.b)((function(e){return{isAuth:e.auth.isAuth}}),{login:function(e,t,n){return function(){var s=Object(m.a)(g.a.mark((function s(r){var c,a;return g.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,y(e,t,n);case 2:0===(c=s.sent).data.resultCode?r(Ye()):(a=c.data.messages.length>0?c.data.messages[0]:"Some error",r(Object(qe.a)("login",{_error:a})));case 4:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()}})((function(e){return e.isAuth?Object(p.jsx)(d.a,{to:"/profile"}):Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{children:"login"}),Object(p.jsx)(Qe,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe)}})]})})),et="INITIALIZED_SUCCESS",tt={initialized:!1},nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case et:return Object(v.a)(Object(v.a)({},e),{},{initialized:!0});default:return e}},st={sidebar:{}},rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st;return e},ct=n(128),at=n(123),it=Object(K.c)({profilePage:Ae,dialogsPage:ie,sidebar:rt,usersPage:B,auth:Ke,form:at.a,app:nt}),ot=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||K.d,ut=Object(K.e)(it,ot(Object(K.a)(ct.a)));window.__store__=ut;var lt=ut,jt=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(p.jsxs)("div",{className:"app__wrapper",children:[Object(p.jsx)(Ze,{}),Object(p.jsx)(f,{}),Object(p.jsx)("div",{className:"app__wrapper_content",children:Object(p.jsxs)(d.d,{children:[Object(p.jsx)(d.b,{path:"/dialogs",children:Object(p.jsx)(_e,{})}),Object(p.jsx)(d.b,{path:"/profile/:userId?",children:Object(p.jsx)(He,{})}),Object(p.jsx)(d.b,{path:"/users",children:Object(p.jsx)(re,{})}),Object(p.jsx)(d.b,{path:"/login",children:Object(p.jsx)($e,{})})]})})]}):Object(p.jsx)(Y,{})}}]),n}(a.Component),dt=Object(K.d)(d.g,Object(h.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){e(Ye()).then((function(){e({type:et})}))}}}))(jt),bt=function(e){return Object(p.jsx)(b.a,{children:Object(p.jsx)(h.a,{store:lt,children:Object(p.jsx)(dt,{})})})};c.a.render(Object(p.jsx)(i.a.StrictMode,{children:Object(p.jsx)(bt,{})}),document.getElementById("root")),s()},98:function(e,t,n){},99:function(e,t,n){}},[[291,1,2]]]);
//# sourceMappingURL=main.77a59960.chunk.js.map